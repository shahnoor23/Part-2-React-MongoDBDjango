{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = insertMention;\n\nvar _draftJs = require('draft-js');\n\nvar _getSearchWord = require('./getSearchWord');\n\nvar _getSearchWord2 = _interopRequireDefault(_getSearchWord);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction insertMention(editorState, mention, data, mode) {\n  var entityMode = mode === 'immutable' ? 'IMMUTABLE' : 'MUTABLE';\n  var selection = editorState.getSelection();\n  var contentState = editorState.getCurrentContent();\n  contentState.createEntity('mention', entityMode, data || mention);\n  var searchWord = (0, _getSearchWord2[\"default\"])(editorState, selection);\n  var begin = searchWord.begin,\n      end = searchWord.end;\n\n  var replacedContent = _draftJs.Modifier.replaceText(contentState, selection.merge({\n    anchorOffset: begin,\n    focusOffset: end\n  }), mention, null, contentState.getLastCreatedEntityKey());\n\n  var InsertSpaceContent = _draftJs.Modifier.insertText(replacedContent, replacedContent.getSelectionAfter(), ' ');\n\n  var newEditorState = _draftJs.EditorState.push(editorState, InsertSpaceContent, 'insert-mention');\n\n  return _draftJs.EditorState.forceSelection(newEditorState, InsertSpaceContent.getSelectionAfter());\n}\n\nmodule.exports = exports['default'];","map":null,"metadata":{},"sourceType":"script"}